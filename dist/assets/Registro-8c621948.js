import{_ as z,l as B,k as A,r as o,a as g,o as y,g as q,b as t,d as s,w as C,A as M,c as w,s as x,e as j,p as H,f as T,G as $,H as D}from"./index-b0d1de63.js";import{u as F}from"./usuarios-423e1768.js";import{v as G}from"./v4-4a60fe23.js";const J=f=>(H("data-v-0009fe0c"),f=f(),T(),f),K={class:"conteResgistro"},L={class:"cardRegistro"},O=J(()=>t("div",null,[t("div",{class:"title"},[t("h2",null,"Crear cuenta")]),t("div",{class:"imge"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",height:"5em",viewBox:"0 0 512 512",fill:"#e60f12"},[t("path",{d:"M406.5 399.6C387.4 352.9 341.5 320 288 320H224c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3h64c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-88-40a88 88 0 1 0 176 0 88 88 0 1 0 -176 0z"})])])],-1)),P={__name:"Registro",setup(f){const R=B(),V=F(),S=A(),u=o(!1),i=o(null),d=o(null),c=o(null),v=o(null),n=o(!1),_=o(!1),U=()=>{i.value=null,u.value=!1,d.value=null,v.value=null,c.value=null},k=o([e=>!!e||"Este campo es requerido",e=>/.+@.+\..+/.test(e)||"Ingrese un correo electrónico válido"]),h=o([e=>!!e||"Este campo es requerido",e=>e&&e.length>=8||"Debe tener al menos 8 caracteres"]),I=o([e=>!!e||"Este campo es requerido",e=>/^\d+$/.test(e)||"Ingrese solo números"]),m=o(null);function E(){if(!u.value)return;n.value=!0;let e={nombres:i.value,email:d.value,telefono:c.value,contrasenia:v.value,id:""};const r=V.getUsuarios.find(p=>p.email===e.email);if(m.value=null,r)m.value=!1;else{e.id=G();let p=e;V.agregarUsuario(p);let b={id:e.id,nombres:i.value,email:d.value,telefono:c.value,contrasenia:v.value,perfil:"cliente"};U(),R.login(b),m.value=!0,S.push({name:"home"})}setTimeout(()=>n.value=!1,2e3)}return(e,l)=>{const r=g("v-text-field"),p=g("v-spacer"),b=g("v-btn"),N=g("v-form");return y(),q("section",K,[t("div",L,[O,t("div",null,[s(N,{modelValue:u.value,"onUpdate:modelValue":l[5]||(l[5]=a=>u.value=a),onSubmit:M(E,["prevent"])},{default:C(()=>[s(r,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),color:"primary input",label:"Nombre(s)",variant:"underlined",readonly:n.value},null,8,["modelValue","readonly"]),s(r,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value=a),color:"primary input",label:"Correo electrónico",readonly:n.value,variant:"underlined",rules:k.value},null,8,["modelValue","readonly","rules"]),s(r,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=a=>c.value=a),color:"primary input",label:"Número telefónico",readonly:n.value,rules:I.value,variant:"underlined"},null,8,["modelValue","readonly","rules"]),s(r,{"append-inner-icon":_.value?"mdi-eye-off":"mdi-eye",type:_.value?"text":"password",placeholder:"Ingresar contraseña",label:"Contraseña","prepend-inner-icon":"mdi-lock-outline",readonly:n.value,modelValue:v.value,"onUpdate:modelValue":l[3]||(l[3]=a=>v.value=a),variant:"underlined",rules:h.value,"onClick:appendInner":l[4]||(l[4]=a=>_.value=!_.value),class:"input"},null,8,["append-inner-icon","type","readonly","modelValue","rules"]),s(p),s(b,{disabled:!u.value,loading:n.value,block:"",size:"large",type:"submit",class:"butonRegistro",variant:"elevated"},{default:C(()=>[j(" Registrar ")]),_:1},8,["disabled","loading"])]),_:1},8,["modelValue","onSubmit"])])]),m.value?(y(),w($,{key:0,activo:!0,mensaje:"Bienvenido"})):x("",!0),m.value===!1?(y(),w(D,{key:1,activo:!0,mensaje:"El correo que proporciono ya esta en uso"})):x("",!0)])}}},Y=z(P,[["__scopeId","data-v-0009fe0c"]]);export{Y as default};
